function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires}function getCookie(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return!1}var myApp=angular.module("myApp",["videoServiceProvider","app.routes","mainCtrl","videosCtrl","videoCtrl","playlistsCtrl","playlistCtrl","homeCtrl","ggCtrl","stCtrl","gcCtrl","animatedCtrl","bestOfCtrl","tableFlipCtrl","oneOffsCtrl","guildGrumpsCtrl","commercialsCtrl","searchCtrl","youtube-embed"]);angular.module("animatedCtrl",[]).controller("animatedController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLC4E9F4F6136EF251&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLC4E9F4F6136EF251&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("bestOfCtrl",[]).controller("bestOfController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_Enp7Z8-nL2FPZh5XPX5xdBOH&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_Enp7Z8-nL2FPZh5XPX5xdBOH&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("commercialsCtrl",[]).controller("commercialsController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnqizkZXJB4LP-af3Gum7Uhe&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnqizkZXJB4LP-af3Gum7Uhe&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("gcCtrl",[]).controller("gcController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Grumpcade");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1,console.log($scope.videos)})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&pageToken="+$scope.nextToken+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Grumpcade");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1})}$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,$scope.uploadPlaylist=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),s(".show-hide").on("click",function(){getMore()}),s("header").addClass("grumpcade")}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("ggCtrl",[]).controller("ggController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Game Grumps");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&pageToken="+$scope.nextToken+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Game Grumps");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1})}$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,$scope.uploadPlaylist=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),s(".show-hide").on("click",function(){getMore()})}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("guildGrumpsCtrl",[]).controller("guildGrumpsController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnrXvUE3FvmOws1y5SPDCbDX&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnrXvUE3FvmOws1y5SPDCbDX&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("homeCtrl",[]).controller("homeController",function($http,$scope,$rootScope){function getVideos(){$http.get(" https://www.googleapis.com/youtube/v3/playlistItems?part=snippet%2ccontentDetails&playlistId="+$scope.uploadsPlaylistId+"&maxResults=4&key="+$scope.settings.api_key).success(function(res){$scope.mostRecent=res.items,$scope.recentLoading=!1})}$rootScope.pageTitle="Game Grumps | A Fan Made Site",$scope.recentLoading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.uploadsPlaylistId=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),getInstagam()})}),angular.module("mainCtrl",[]).controller("mainController",function($http,$scope,$rootScope,$window,$location){$http.get("app/model/settings.json").success(function(res){$scope.settings=res}),s(".sub-head").on("mouseenter",function(){s(".sub").css("display","block")}).on("mouseleave",function(){s(".sub").css("display","none")}),$rootScope.$on("$locationChangeStart",function(event,next,current){s("header").removeClass()}),$rootScope.$on("$routeChangeSuccess",function(event,next,current){$window.ga("send","pageview",{page:$location.path()})})}),angular.module("oneOffsCtrl",[]).controller("oneOffsController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnqIWG6TuaGLWmn9NLcaHi7P&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_EnqIWG6TuaGLWmn9NLcaHi7P&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("playlistCtrl",[]).controller("playlistController",function($http,$scope,$location,$sce,$rootScope){function getVideos(){$http.get(" https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails%2C+snippet&playlistId="+playlistId+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.videos=res.items,$scope.nextToken=res.nextPageToken,getPlaylistName(),$scope.loading=!1})}function getPlaylistName(){$http.get("https://www.googleapis.com/youtube/v3/playlists?part=snippet&id="+playlistId+"&key="+$scope.settings.api_key).success(function(res){$scope.playlistTitle=res.items[0].snippet.title,$rootScope.pageTitle=$scope.playlistTitle+" Playlist"})}function getMore(){$scope.loading=!0,$http.get(" https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails%2C+snippet&playlistId="+playlistId+"&maxResults=9&pageToken="+$scope.nextToken+"&key="+$scope.settings.api_key).success(function(res){for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.nextToken=res.nextPageToken,$scope.loading=!1})}var playlistId=$location.path().substr(11,$location.path().length-1);$scope.loading=!0,$scope.finished=!1,getVideos(),s(".show-hide").on("click",function(){getMore()})}),angular.module("playlistsCtrl",[]).controller("playlistsController",function($http,$scope,$location,$rootScope){function getPlaylists(){$http.get("https://www.googleapis.com/youtube/v3/playlists?part=contentDetails%2csnippet&channelId="+$scope.channelId+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.playlists=res.items,$scope.nextToken=res.nextPageToken}),$scope.loading=!1}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlists?part=contentDetails%2csnippet&channelId="+$scope.channelId+"&maxResults=9&pageToken="+$scope.nextToken+"&key="+$scope.settings.api_key).success(function(res){for(var i=0;i<res.items.length;i++)$scope.playlists.push(res.items[i]);$scope.nextToken=res.nextPageToken,$scope.loading=!1})}$rootScope.pageTitle="Game Grumps Playlists",$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,getPlaylists(),s(".show-hide").on("click",function(){getMore()})})}),angular.module("searchCtrl",[]).controller("searchController",function($scope,$http){}),angular.module("stCtrl",[]).controller("stController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Steam Train");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&pageToken="+$scope.nextToken+"&maxResults=20&key="+$scope.settings.api_key).success(function(res){$scope.nextToken=res.nextPageToken;for(var none=!0,i=0;i<res.items.length;i++){var index=res.items[i].snippet.title.indexOf("Steam Train");index>0&&($scope.videos.push(res.items[i]),none=!1)}none?getMore():$scope.loading=!1})}$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,$scope.uploadPlaylist=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),s(".show-hide").on("click",function(){getMore()}),s("header").addClass("steam-train")}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("tableFlipCtrl",[]).controller("tableFlipController",function($scope,$http){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_Enr29rZZEzgSAQ21HjZXY0bv&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLRQGRBgN_Enr29rZZEzgSAQ21HjZXY0bv&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,getVideos(),s(".show-hide").on("click",function(){getMore()}),s("header").addClass("table-flip"),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}}),angular.module("videoCtrl",[]).controller("videoController",function($http,$scope,$location,$sce,$rootScope){function setPublishAtDate(){var date=new Date($scope.video.snippet.publishedAt),formattedDate="";switch(date.getMonth()){case 0:formattedDate="January";break;case 1:formattedDate="February";break;case 2:formattedDate="March";break;case 3:formattedDate="April";break;case 4:formattedDate="May";break;case 5:formattedDate="June";break;case 6:formattedDate="July";break;case 7:formattedDate="August";break;case 8:formattedDate="September";break;case 9:formattedDate="October";break;case 10:formattedDate="November";break;case 11:formattedDate="December"}formattedDate=formattedDate+" "+date.getDate()+", "+date.getFullYear(),$scope.video.snippet.publishedAt=formattedDate}function preserveDescription(){var description=$scope.video.snippet.description;description=preserveLinks(description),description=description.replace(/\n/g,"<br>"),$scope.video.snippet.description=description}function preserveLinks(d){return d=d.replace(/(http:\/\/[^\s]+)/gi,'<a href="$1">$1</a>'),d=d.replace(/(https:\/\/[^\s]+)/gi,'<a href="$1">$1</a>')}function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function sideBar(){$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,$scope.uploadPlaylist=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),getNextVideo()})}function getVideos(){$scope.recentLoading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&maxResults=5&key="+$scope.settings.api_key).success(function(res){$scope.recentVideos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.recentVideos.push(res.items[i]);$scope.recentLoading=!1})}function checkShow(){var title=$scope.video.snippet.title;title.indexOf("Grumpcade")>=0?s("header").addClass("grumpcade"):title.indexOf("Steam Train")>=0?s("header").addClass("steam-train"):title.indexOf("Table Flip")>=0?s("header").addClass("table-flip"):s("header").removeClass()}function getNextVideo(){$http.get("https://www.googleapis.com/youtube/v3/search?part=snippet&relatedToVideoId="+$location.path().substr(8,$location.path().length-1)+"&channelId="+$scope.settings.channelId+"&maxResults=5&type=video&key="+$scope.settings.api_key).success(function(res){$scope.nextVideo=res.items[0],$scope.relatedVideos=[];for(var i=1;i<res.items.length;i++)res.items[i].snippet.channelId==$scope.settings.channelId&&$scope.relatedVideos.push(res.items[i]);$scope.nextLoading=!1})}function getComments(){$scope.commentsLoading=!0,$http.get("https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId="+video_id+"&order=relevance&maxResults=5&key="+$scope.settings.api_key).success(function(res){$scope.nextCommentPageToken=res.nextPageToken,$scope.comments=res.items,console.log($scope.comments),$scope.commentsLoading=!1})}var video_id=$location.path().substr(8,$location.path().length-1);$http.get("https://www.googleapis.com/youtube/v3/videos?part=snippet%2cstatistics&id="+video_id+"&key="+$scope.settings.api_key).success(function(res){$scope.video=res.items[0],$rootScope.pageTitle=$scope.video.snippet.title,$scope.video.snippet.channelId!=$scope.settings.channelId&&$location.path("/404"),getCookie("gamegrumpsAutoplay"),$scope.autoplay="true"===getCookie("gamegrumpsAutoplay")?1:0,$scope.video_id=video_id,$scope.playerHeight=480,$scope.playerWidth=854,$scope.playerVars={showinfo:0,autoplay:$scope.autoplay},setPublishAtDate(),preserveDescription(),$scope.recentLoading=!0,$scope.nextLoading=!0,sideBar(),$scope.$on("youtube.player.ended",function($event,player){1===$scope.autoplay&&$location.path("/videos/"+$scope.nextVideo.id.videoId)}),s(".show-hide").on("click",function(){s(".description").hasClass("full")[0]?(s(".description").removeClass("full"),s(this).innerHtml("Show More")):(s(".description").addClass("full"),s(this).innerHtml("Hide"))});var likes=Number($scope.video.statistics.likeCount),total=Number($scope.video.statistics.dislikeCount)+likes;likeRatio=likes/total*100,s(".like-bar").css("width",String(likeRatio+"%")),$scope.video.statistics.viewCount=numberWithCommas($scope.video.statistics.viewCount),$scope.video.statistics.likeCount=numberWithCommas($scope.video.statistics.likeCount),$scope.video.statistics.dislikeCount=numberWithCommas($scope.video.statistics.dislikeCount),checkShow(),1===$scope.autoplay&&s(".toggle").addClass("active"),s(".toggle").on("click",function(e){s(this).hasClass("active")[0]?(s(this).removeClass("active"),setCookie("gamegrumpsAutoplay",!1,2)):(s(this).addClass("active"),setCookie("gamegrumpsAutoplay",!0,2))}),"true"===getCookie("gamegrumpsTheatreMode")&&($scope.theatreMode(!1),s(".theatre").addClass("active")),s(".theatre").on("click",function(e){s(this).hasClass("active")[0]?($scope.theatreMode(!0),s(this).removeClass("active")):($scope.theatreMode(!1),s(this).addClass("active"))});var loadedComments=!0;document.addEventListener("scroll",function(){document.getElementsByTagName("body")[0].scrollTop>240&&loadedComments&&(getComments(),loadedComments=!1)})}),$scope.getReplies=function(c,i){$scope.repliesLoading=!0,c.replies?($scope.repliesLoadingMore=!0,c.replies.nextPageToken&&$http.get("https://www.googleapis.com/youtube/v3/comments?part=snippet&parentId="+c.id+"&order=relevance&maxResults=5&pageToken="+c.replies.nextPageToken+"&key="+$scope.settings.api_key).success(function(res){c.replies.items.push(res.items),c.replies.nextPageToken=res.nextPageToken,$scope.comments[i]=c,console.log($scope.comments[i]),$scope.repliesLoadingMore=!1})):$http.get("https://www.googleapis.com/youtube/v3/comments?part=snippet&parentId="+c.id+"&order=relevance&maxResults=5&key="+$scope.settings.api_key).success(function(res){c.replies=res,$scope.comments[i]=c,console.log($scope.comments[i]),$scope.repliesLoading=!1})},$scope.theatreMode=function(b){b?(setCookie("gamegrumpsTheatreMode","false",2),s("#player").css("width","854px"),s("#player").css("height","480px"),s(".right").removeClass("theatreDown")):(setCookie("gamegrumpsTheatreMode","true",2),s(".right").addClass("theatreDown"),window.setTimeout(function(){s("#player").css("width","1160px"),s("#player").css("height","652px")},300))}}).filter("unsafe",function($sce){return function(val){return $sce.trustAsHtml(val)}}),angular.module("videosCtrl",[]).controller("videosController",function($http,$scope){function getVideos(){$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){$scope.videos=[],$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);console.log($scope.videos),$scope.loading=!1})}function getMore(){$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+$scope.uploadPlaylist+"&pageToken="+$scope.nextToken+"&maxResults=9&key="+$scope.settings.api_key).success(function(res){console.log(res),$scope.nextToken=res.nextPageToken;for(var i=0;i<res.items.length;i++)$scope.videos.push(res.items[i]);$scope.loading=!1})}$scope.loading=!0,$http.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+$scope.settings.channel+"&key="+$scope.settings.api_key).success(function(res){$scope.channelId=res.items[0].id,$scope.uploadPlaylist=res.items[0].contentDetails.relatedPlaylists.uploads,getVideos(),s(".show-hide").on("click",function(){getMore()})}),$scope.sortDate=function(v){var date=new Date(v.snippet.publishedAt);return date}});var route=angular.module("app.routes",["ngRoute"]);route.config(function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"app/views/home.html",controller:"homeController",controllerAs:"home"}).when("/videos/",{templateUrl:"app/views/videos.html",controller:"videosController",controllerAs:"videos"}).when("/videos/:video_id",{templateUrl:"app/views/video.html",controller:"videoController",controllerAs:"video"}).when("/playlists/",{templateUrl:"app/views/playlists.html",controller:"playlistsController",controllerAs:"playlists"}).when("/playlists/:playlist_id",{templateUrl:"app/views/playlist.html",controller:"playlistController",controllerAs:"playlist"}).when("/gg/",{templateUrl:"app/views/gg.html",controller:"ggController",controllerAs:"gg"}).when("/steam-train/",{templateUrl:"app/views/st.html",controller:"stController",controllerAs:"st"}).when("/grumpcade/",{templateUrl:"app/views/gc.html",controller:"gcController",controllerAs:"gc"}).when("/animated",{templateUrl:"app/views/animated.html",controller:"animatedController",controllerAs:"animated"}).when("/best-of",{templateUrl:"app/views/bestOf.html",controller:"bestOfController",controllerAs:"bestOf"}).when("/table-flip",{templateUrl:"app/views/tableFlip.html",controller:"tableFlipController",controllerAs:"tableFlip"}).when("/one-offs",{templateUrl:"app/views/oneOffs.html",controller:"oneOffsController",controllerAs:"oneOffs"}).when("/guild-grumps",{templateUrl:"app/views/guildGrumps.html",controller:"guildGrumpsController",controllerAs:"guildGrumps"}).when("/commercials",{templateUrl:"app/views/commercials.html",controller:"commercialsController",controllerAs:"commercials"}).when("/search",{templateUrl:"app/views/search.html",controller:"searchController",controllerAs:"search"}).when("/404",{templateUrl:"app/views/404.html"}).when("/:anything",{templateUrl:"app/views/404.html"})}),angular.module("videoServiceProvider",[]).service("videoService",function($http){});